---
file: /home/pedro/Documents/chatgpt_export/Markdown/Visualización de velocidad en mapa de pista.md
heading_stack: <root> -> 78e04d7c-a1af-446f-8b7d-dce4ea62bb0e -> System -> 5c500c9e-5861-4d6b-b085-4ff313388901 -> System -> aaa2f7d7-fe29-46a2-bcb1-effe5e4a42cc -> User -> First, we define some variables that allow us to conveniently control what -> we want to plot. -> Next, we load the session and select the desired data. -> Get telemetry data -> Now, we create a set of line segments so that we can color them -> individually. This creates the points as a N x 1 x 2 array so that we can -> stack points  together easily to get the segments. The segments array for -> line collection needs to be (numlines) x (points per line) x 2 (for x and y) -> After this, we can actually plot the data. -> We create a plot with title and adjust some setting to make it look good. -> Adjust margins and turn of axis -> After this, we plot the data itself. -> Create background track line -> Create a continuous norm to map from data points to colors -> Set the values used for colormapping -> Merge all line segments together -> Finally, we create a color bar as a legend. -> Show the plot -> b927de9a-7f9a-4aba-8adf-f9e7b0133fbf -> Assistant -> c19ab3a1-77f1-4a7a-9182-2d92a1573eff -> Tool -> 2de8fe53-34d1-4446-9e7d-662b4f25807b -> Assistant -> 6ff0a0e5-121d-4355-b88d-70019241a78a -> Assistant -> 9c1df759-1b7c-4cfe-b8d4-a254b4687c45 -> Tool -> edef5e2a-f7a3-4c6f-8888-ceae0e7d3065 -> Assistant -> bb152ae4-06c9-42b7-9b29-13983eeecbfb -> Tool -> 1baca0b9-77dc-4feb-8d20-93bf3d732edd -> Assistant -> f2bbe088-c1ec-4063-becb-47b7c53fcded -> Assistant -> 276aa8fd-1749-48dc-a59f-b87b75a6f0b0 -> Tool -> Define variables for the plot -> Load the session and select the desired data -> Get telemetry data -> Create a set of line segments for individual coloring -> Create the plot -> Plot the data -> Create a color bar as a legend -> Show the plot -> 6bc105d3-615d-429e-b477-567b9e114cd2 -> Assistant -> aaa29b67-daf6-42d4-9679-ac7ae525be35 -> User -> a0307879-dd50-4770-b718-38184779d7ef -> Assistant -> 7f898c30-18df-4cc9-afb5-da7dbf5bf042 -> Tool -> Import additional modules for analysis -> Load the session again to get data for all drivers -> Get lap data for all drivers -> Filter out laps that are not representative (e.g., in/out laps) -> Get the list of teams -> Initialize dictionaries to store speed ranges and sector times for each team -> Loop through each team to collect data -> Convert the collected data to DataFrames for easier analysis -> Sort the DataFrames -> e2e15bbb-e42a-4af1-a938-65c4a470230a -> Assistant -> 0f81ea8a-f09e-40b8-8f9f-34f1eb48991b -> Assistant -> 31175595-82fb-44cc-9987-12dfa51c1ab4 -> Tool -> Correct the filtering by converting the string to a timedelta -> Filter out laps that are not representative (e.g., in/out laps) -> Reinitialize dictionaries to store speed ranges and sector times for each team -> Loop through each team to collect data -> Convert the collected data to DataFrames for easier analysis -> Sort the DataFrames -> 5f8e19d7-0f27-46ce-88ea-9d081f353787 -> Assistant -> 85814484-615d-42ed-a107-7064ded0d97c -> Assistant -> b2347d16-5a0c-4fb6-a82e-5d9be6b865be -> Tool -> Reload the session and get lap data for all drivers -> Filter out laps that are not representative (e.g., in/out laps) using corrected timedelta -> Get the list of teams -> 36e7914a-6d17-444b-bc9a-1aff70d1a650
---
###### 36e7914a-6d17-444b-bc9a-1aff70d1a650
[parent ⬆️](#b2347d16-5a0c-4fb6-a82e-5d9be6b865be)
